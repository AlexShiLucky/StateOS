ARM GAS  C:\Users\SZYMAN~1.RAJ\AppData\Local\Temp\ccgnOz5t.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 23, 1
   5              		.eabi_attribute 24, 1
   6              		.eabi_attribute 25, 1
   7              		.eabi_attribute 26, 1
   8              		.eabi_attribute 30, 4
   9              		.eabi_attribute 34, 1
  10              		.eabi_attribute 18, 4
  11              		.file	"os_mtx.c"
  12              		.section	.text.priv_mtx_unlink,"ax",%progbits
  13              		.align	1
  14              		.syntax unified
  15              		.thumb
  16              		.thumb_func
  17              		.fpu fpv4-sp-d16
  18              		.type	priv_mtx_unlink, %function
  19              	priv_mtx_unlink:
  20              		@ args = 0, pretend = 0, frame = 0
  21              		@ frame_needed = 0, uses_anonymous_args = 0
  22              		@ link register save eliminated.
  23 0000 0346     		mov	r3, r0
  24 0002 4068     		ldr	r0, [r0, #4]
  25 0004 90B1     		cbz	r0, .L1
  26 0006 426B     		ldr	r2, [r0, #52]
  27 0008 9342     		cmp	r3, r2
  28 000a 04BF     		itt	eq
  29 000c DA68     		ldreq	r2, [r3, #12]
  30 000e 4263     		streq	r2, [r0, #52]
  31 0010 426B     		ldr	r2, [r0, #52]
  32              	.L4:
  33 0012 22B9     		cbnz	r2, .L6
  34 0014 DA60     		str	r2, [r3, #12]
  35 0016 5A60     		str	r2, [r3, #4]
  36 0018 816A     		ldr	r1, [r0, #40]
  37 001a FFF7FEBF 		b	core_tsk_prio
  38              	.L6:
  39 001e D168     		ldr	r1, [r2, #12]
  40 0020 8B42     		cmp	r3, r1
  41 0022 04BF     		itt	eq
  42 0024 D968     		ldreq	r1, [r3, #12]
  43 0026 D160     		streq	r1, [r2, #12]
  44 0028 D268     		ldr	r2, [r2, #12]
  45 002a F2E7     		b	.L4
  46              	.L1:
  47 002c 7047     		bx	lr
  48              		.size	priv_mtx_unlink, .-priv_mtx_unlink
  49              		.section	.text.priv_mtx_wait,"ax",%progbits
  50              		.align	1
  51              		.syntax unified
  52              		.thumb
  53              		.thumb_func
  54              		.fpu fpv4-sp-d16
  55              		.type	priv_mtx_wait, %function
  56              	priv_mtx_wait:
  57              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\SZYMAN~1.RAJ\AppData\Local\Temp\ccgnOz5t.s 			page 2


  58              		@ frame_needed = 0, uses_anonymous_args = 0
  59 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
  60 0002 0446     		mov	r4, r0
  61 0004 0F46     		mov	r7, r1
  62 0006 1646     		mov	r6, r2
  63              		.syntax unified
  64              	@ 345 "CMSIS/include/cmsis_gcc.h" 1
  65 0008 EFF31085 		MRS r5, primask
  66              	@ 0 "" 2
  67              	@ 128 "CMSIS/include/cmsis_gcc.h" 1
  68 000c 72B6     		cpsid i
  69              	@ 0 "" 2
  70              		.thumb
  71              		.syntax unified
  72 000e 114B     		ldr	r3, .L15
  73 0010 4068     		ldr	r0, [r0, #4]
  74 0012 1B68     		ldr	r3, [r3]
  75 0014 38B9     		cbnz	r0, .L8
  76 0016 6360     		str	r3, [r4, #4]
  77 0018 63B1     		cbz	r3, .L14
  78 001a 5A6B     		ldr	r2, [r3, #52]
  79 001c E260     		str	r2, [r4, #12]
  80 001e 5C63     		str	r4, [r3, #52]
  81              	.L9:
  82              		.syntax unified
  83              	@ 373 "CMSIS/include/cmsis_gcc.h" 1
  84 0020 85F31088 		MSR primask, r5
  85              	@ 0 "" 2
  86              		.thumb
  87              		.syntax unified
  88 0024 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
  89              	.L8:
  90 0026 9842     		cmp	r0, r3
  91 0028 06D1     		bne	.L10
  92 002a A368     		ldr	r3, [r4, #8]
  93 002c 5A1C     		adds	r2, r3, #1
  94 002e 0DD0     		beq	.L13
  95 0030 0133     		adds	r3, r3, #1
  96 0032 A360     		str	r3, [r4, #8]
  97              	.L14:
  98 0034 0020     		movs	r0, #0
  99 0036 F3E7     		b	.L9
 100              	.L10:
 101 0038 D96A     		ldr	r1, [r3, #44]
 102 003a C36A     		ldr	r3, [r0, #44]
 103 003c 8B42     		cmp	r3, r1
 104 003e 01D2     		bcs	.L11
 105 0040 FFF7FEFF 		bl	core_tsk_prio
 106              	.L11:
 107 0044 3946     		mov	r1, r7
 108 0046 2046     		mov	r0, r4
 109 0048 B047     		blx	r6
 110 004a E9E7     		b	.L9
 111              	.L13:
 112 004c 6FF00100 		mvn	r0, #1
 113 0050 E6E7     		b	.L9
 114              	.L16:
ARM GAS  C:\Users\SZYMAN~1.RAJ\AppData\Local\Temp\ccgnOz5t.s 			page 3


 115 0052 00BF     		.align	2
 116              	.L15:
 117 0054 00000000 		.word	System
 118              		.size	priv_mtx_wait, .-priv_mtx_wait
 119              		.section	.text.mtx_init,"ax",%progbits
 120              		.align	1
 121              		.global	mtx_init
 122              		.syntax unified
 123              		.thumb
 124              		.thumb_func
 125              		.fpu fpv4-sp-d16
 126              		.type	mtx_init, %function
 127              	mtx_init:
 128              		@ args = 0, pretend = 0, frame = 0
 129              		@ frame_needed = 0, uses_anonymous_args = 0
 130 0000 10B5     		push	{r4, lr}
 131              		.syntax unified
 132              	@ 345 "CMSIS/include/cmsis_gcc.h" 1
 133 0002 EFF31084 		MRS r4, primask
 134              	@ 0 "" 2
 135              	@ 128 "CMSIS/include/cmsis_gcc.h" 1
 136 0006 72B6     		cpsid i
 137              	@ 0 "" 2
 138              		.thumb
 139              		.syntax unified
 140 0008 1022     		movs	r2, #16
 141 000a 0021     		movs	r1, #0
 142 000c FFF7FEFF 		bl	memset
 143              		.syntax unified
 144              	@ 373 "CMSIS/include/cmsis_gcc.h" 1
 145 0010 84F31088 		MSR primask, r4
 146              	@ 0 "" 2
 147              		.thumb
 148              		.syntax unified
 149 0014 10BD     		pop	{r4, pc}
 150              		.size	mtx_init, .-mtx_init
 151              		.section	.text.mtx_create,"ax",%progbits
 152              		.align	1
 153              		.global	mtx_create
 154              		.syntax unified
 155              		.thumb
 156              		.thumb_func
 157              		.fpu fpv4-sp-d16
 158              		.type	mtx_create, %function
 159              	mtx_create:
 160              		@ args = 0, pretend = 0, frame = 0
 161              		@ frame_needed = 0, uses_anonymous_args = 0
 162 0000 38B5     		push	{r3, r4, r5, lr}
 163              		.syntax unified
 164              	@ 345 "CMSIS/include/cmsis_gcc.h" 1
 165 0002 EFF31085 		MRS r5, primask
 166              	@ 0 "" 2
 167              	@ 128 "CMSIS/include/cmsis_gcc.h" 1
 168 0006 72B6     		cpsid i
 169              	@ 0 "" 2
 170              		.thumb
 171              		.syntax unified
ARM GAS  C:\Users\SZYMAN~1.RAJ\AppData\Local\Temp\ccgnOz5t.s 			page 4


 172 0008 1020     		movs	r0, #16
 173 000a FFF7FEFF 		bl	core_sys_alloc
 174 000e 0446     		mov	r4, r0
 175 0010 08B1     		cbz	r0, .L19
 176 0012 FFF7FEFF 		bl	mtx_init
 177              	.L19:
 178              		.syntax unified
 179              	@ 373 "CMSIS/include/cmsis_gcc.h" 1
 180 0016 85F31088 		MSR primask, r5
 181              	@ 0 "" 2
 182              		.thumb
 183              		.syntax unified
 184 001a 2046     		mov	r0, r4
 185 001c 38BD     		pop	{r3, r4, r5, pc}
 186              		.size	mtx_create, .-mtx_create
 187              		.section	.text.mtx_kill,"ax",%progbits
 188              		.align	1
 189              		.global	mtx_kill
 190              		.syntax unified
 191              		.thumb
 192              		.thumb_func
 193              		.fpu fpv4-sp-d16
 194              		.type	mtx_kill, %function
 195              	mtx_kill:
 196              		@ args = 0, pretend = 0, frame = 0
 197              		@ frame_needed = 0, uses_anonymous_args = 0
 198 0000 38B5     		push	{r3, r4, r5, lr}
 199 0002 0546     		mov	r5, r0
 200              		.syntax unified
 201              	@ 345 "CMSIS/include/cmsis_gcc.h" 1
 202 0004 EFF31084 		MRS r4, primask
 203              	@ 0 "" 2
 204              	@ 128 "CMSIS/include/cmsis_gcc.h" 1
 205 0008 72B6     		cpsid i
 206              	@ 0 "" 2
 207              		.thumb
 208              		.syntax unified
 209 000a FFF7FEFF 		bl	priv_mtx_unlink
 210 000e 0023     		movs	r3, #0
 211 0010 AB60     		str	r3, [r5, #8]
 212 0012 4FF0FF31 		mov	r1, #-1
 213 0016 2846     		mov	r0, r5
 214 0018 FFF7FEFF 		bl	core_all_wakeup
 215              		.syntax unified
 216              	@ 373 "CMSIS/include/cmsis_gcc.h" 1
 217 001c 84F31088 		MSR primask, r4
 218              	@ 0 "" 2
 219              		.thumb
 220              		.syntax unified
 221 0020 38BD     		pop	{r3, r4, r5, pc}
 222              		.size	mtx_kill, .-mtx_kill
 223              		.section	.text.mtx_waitUntil,"ax",%progbits
 224              		.align	1
 225              		.global	mtx_waitUntil
 226              		.syntax unified
 227              		.thumb
 228              		.thumb_func
ARM GAS  C:\Users\SZYMAN~1.RAJ\AppData\Local\Temp\ccgnOz5t.s 			page 5


 229              		.fpu fpv4-sp-d16
 230              		.type	mtx_waitUntil, %function
 231              	mtx_waitUntil:
 232              		@ args = 0, pretend = 0, frame = 0
 233              		@ frame_needed = 0, uses_anonymous_args = 0
 234              		@ link register save eliminated.
 235 0000 014A     		ldr	r2, .L25
 236 0002 FFF7FEBF 		b	priv_mtx_wait
 237              	.L26:
 238 0006 00BF     		.align	2
 239              	.L25:
 240 0008 00000000 		.word	core_tsk_waitUntil
 241              		.size	mtx_waitUntil, .-mtx_waitUntil
 242              		.section	.text.mtx_waitFor,"ax",%progbits
 243              		.align	1
 244              		.global	mtx_waitFor
 245              		.syntax unified
 246              		.thumb
 247              		.thumb_func
 248              		.fpu fpv4-sp-d16
 249              		.type	mtx_waitFor, %function
 250              	mtx_waitFor:
 251              		@ args = 0, pretend = 0, frame = 0
 252              		@ frame_needed = 0, uses_anonymous_args = 0
 253              		@ link register save eliminated.
 254 0000 014A     		ldr	r2, .L28
 255 0002 FFF7FEBF 		b	priv_mtx_wait
 256              	.L29:
 257 0006 00BF     		.align	2
 258              	.L28:
 259 0008 00000000 		.word	core_tsk_waitFor
 260              		.size	mtx_waitFor, .-mtx_waitFor
 261              		.section	.text.mtx_give,"ax",%progbits
 262              		.align	1
 263              		.global	mtx_give
 264              		.syntax unified
 265              		.thumb
 266              		.thumb_func
 267              		.fpu fpv4-sp-d16
 268              		.type	mtx_give, %function
 269              	mtx_give:
 270              		@ args = 0, pretend = 0, frame = 0
 271              		@ frame_needed = 0, uses_anonymous_args = 0
 272 0000 70B5     		push	{r4, r5, r6, lr}
 273 0002 0546     		mov	r5, r0
 274              		.syntax unified
 275              	@ 345 "CMSIS/include/cmsis_gcc.h" 1
 276 0004 EFF31086 		MRS r6, primask
 277              	@ 0 "" 2
 278              	@ 128 "CMSIS/include/cmsis_gcc.h" 1
 279 0008 72B6     		cpsid i
 280              	@ 0 "" 2
 281              		.thumb
 282              		.syntax unified
 283 000a 0F4B     		ldr	r3, .L37
 284 000c 4268     		ldr	r2, [r0, #4]
 285 000e 1B68     		ldr	r3, [r3]
ARM GAS  C:\Users\SZYMAN~1.RAJ\AppData\Local\Temp\ccgnOz5t.s 			page 6


 286 0010 9A42     		cmp	r2, r3
 287 0012 15D1     		bne	.L33
 288 0014 8468     		ldr	r4, [r0, #8]
 289 0016 34B1     		cbz	r4, .L32
 290 0018 013C     		subs	r4, r4, #1
 291 001a 8460     		str	r4, [r0, #8]
 292 001c 0024     		movs	r4, #0
 293              	.L31:
 294              		.syntax unified
 295              	@ 373 "CMSIS/include/cmsis_gcc.h" 1
 296 001e 86F31088 		MSR primask, r6
 297              	@ 0 "" 2
 298              		.thumb
 299              		.syntax unified
 300 0022 2046     		mov	r0, r4
 301 0024 70BD     		pop	{r4, r5, r6, pc}
 302              	.L32:
 303 0026 FFF7FEFF 		bl	priv_mtx_unlink
 304 002a 2146     		mov	r1, r4
 305 002c 2846     		mov	r0, r5
 306 002e FFF7FEFF 		bl	core_one_wakeup
 307 0032 6860     		str	r0, [r5, #4]
 308 0034 0028     		cmp	r0, #0
 309 0036 F2D0     		beq	.L31
 310 0038 436B     		ldr	r3, [r0, #52]
 311 003a EB60     		str	r3, [r5, #12]
 312 003c 4563     		str	r5, [r0, #52]
 313 003e EEE7     		b	.L31
 314              	.L33:
 315 0040 6FF00104 		mvn	r4, #1
 316 0044 EBE7     		b	.L31
 317              	.L38:
 318 0046 00BF     		.align	2
 319              	.L37:
 320 0048 00000000 		.word	System
 321              		.size	mtx_give, .-mtx_give
 322              		.ident	"GCC: (GNU Tools for ARM Embedded Processors) 6.2.1 20161205 (release) [ARM/embedded-6-bran
ARM GAS  C:\Users\SZYMAN~1.RAJ\AppData\Local\Temp\ccgnOz5t.s 			page 7


DEFINED SYMBOLS
                            *ABS*:00000000 os_mtx.c
C:\Users\SZYMAN~1.RAJ\AppData\Local\Temp\ccgnOz5t.s:13     .text.priv_mtx_unlink:00000000 $t
C:\Users\SZYMAN~1.RAJ\AppData\Local\Temp\ccgnOz5t.s:19     .text.priv_mtx_unlink:00000000 priv_mtx_unlink
C:\Users\SZYMAN~1.RAJ\AppData\Local\Temp\ccgnOz5t.s:50     .text.priv_mtx_wait:00000000 $t
C:\Users\SZYMAN~1.RAJ\AppData\Local\Temp\ccgnOz5t.s:56     .text.priv_mtx_wait:00000000 priv_mtx_wait
C:\Users\SZYMAN~1.RAJ\AppData\Local\Temp\ccgnOz5t.s:117    .text.priv_mtx_wait:00000054 $d
C:\Users\SZYMAN~1.RAJ\AppData\Local\Temp\ccgnOz5t.s:120    .text.mtx_init:00000000 $t
C:\Users\SZYMAN~1.RAJ\AppData\Local\Temp\ccgnOz5t.s:127    .text.mtx_init:00000000 mtx_init
C:\Users\SZYMAN~1.RAJ\AppData\Local\Temp\ccgnOz5t.s:152    .text.mtx_create:00000000 $t
C:\Users\SZYMAN~1.RAJ\AppData\Local\Temp\ccgnOz5t.s:159    .text.mtx_create:00000000 mtx_create
C:\Users\SZYMAN~1.RAJ\AppData\Local\Temp\ccgnOz5t.s:188    .text.mtx_kill:00000000 $t
C:\Users\SZYMAN~1.RAJ\AppData\Local\Temp\ccgnOz5t.s:195    .text.mtx_kill:00000000 mtx_kill
C:\Users\SZYMAN~1.RAJ\AppData\Local\Temp\ccgnOz5t.s:224    .text.mtx_waitUntil:00000000 $t
C:\Users\SZYMAN~1.RAJ\AppData\Local\Temp\ccgnOz5t.s:231    .text.mtx_waitUntil:00000000 mtx_waitUntil
C:\Users\SZYMAN~1.RAJ\AppData\Local\Temp\ccgnOz5t.s:240    .text.mtx_waitUntil:00000008 $d
C:\Users\SZYMAN~1.RAJ\AppData\Local\Temp\ccgnOz5t.s:243    .text.mtx_waitFor:00000000 $t
C:\Users\SZYMAN~1.RAJ\AppData\Local\Temp\ccgnOz5t.s:250    .text.mtx_waitFor:00000000 mtx_waitFor
C:\Users\SZYMAN~1.RAJ\AppData\Local\Temp\ccgnOz5t.s:259    .text.mtx_waitFor:00000008 $d
C:\Users\SZYMAN~1.RAJ\AppData\Local\Temp\ccgnOz5t.s:262    .text.mtx_give:00000000 $t
C:\Users\SZYMAN~1.RAJ\AppData\Local\Temp\ccgnOz5t.s:269    .text.mtx_give:00000000 mtx_give
C:\Users\SZYMAN~1.RAJ\AppData\Local\Temp\ccgnOz5t.s:320    .text.mtx_give:00000048 $d

UNDEFINED SYMBOLS
core_tsk_prio
System
memset
core_sys_alloc
core_all_wakeup
core_tsk_waitUntil
core_tsk_waitFor
core_one_wakeup
